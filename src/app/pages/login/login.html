<div class="login-container">
  <div class="login-box">
    <h2> Inventario Hospital</h2>
    <p>Ingresa tus credenciales</p>

    <!-- Mensaje de éxito -->
    <div class="exito" *ngIf="mensajeExito">
       {{ mensajeExito }}
    </div>

    <!-- Mensaje de error -->
    <div class="error" *ngIf="mensajeError">
       {{ mensajeError }}
    </div>

    <!-- Formulario Reactivo -->
    <form [formGroup]="loginForm">
      
      <!-- Campo Email -->
      <div class="campo">
        <label> Email:</label>
        <input 
          type="email" 
          formControlName="email"
          placeholder="ejemplo@correo.com"
          [class.invalido]="email?.invalid && email?.touched">
        
        <!-- Mensajes de error del email -->
        <div class="mensaje-error" *ngIf="email?.invalid && email?.touched">
          <span *ngIf="email?.errors?.['required']">El email es obligatorio</span>
          <span *ngIf="email?.errors?.['email']">Email inválido</span>
          <span *ngIf="email?.errors?.['minlength']">Mínimo 5 caracteres</span>
        </div>
      </div>

      <!-- Campo Contraseña -->
      <div class="campo">
        <label> Contraseña:</label>
        <input 
          type="password" 
          formControlName="password"
          placeholder="Mínimo 6 caracteres"
          [class.invalido]="password?.invalid && password?.touched">
        
        <!-- Mensajes de error de la contraseña -->
        <div class="mensaje-error" *ngIf="password?.invalid && password?.touched">
          <span *ngIf="password?.errors?.['required']">La contraseña es obligatoria</span>
          <span *ngIf="password?.errors?.['minlength']">Mínimo 6 caracteres</span>
          <span *ngIf="password?.errors?.['maxlength']">Máximo 20 caracteres</span>
        </div>
      </div>

      <!-- Botones -->
      <div class="botones">
        <button 
          type="button" 
          (click)="iniciarSesion()"
          [disabled]="cargando">
          {{ cargando ? 'Cargando...' : 'Iniciar Sesión' }}
        </button>
        
        <button 
          type="button" 
          (click)="registrarse()"
          [disabled]="cargando"
          class="secundario">
          Registrarse
        </button>
      </div>
    </form>
  </div>
</div>